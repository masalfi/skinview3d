<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Skinview3D in Flutter</title>
    <style>
        body { margin: 0; }
        canvas { display: block; }
    </style>
</head>
<body>
    <canvas id="skin_container"></canvas>
    <script src="./skinview3d.js"></script>
    <script>
        // Inisialisasi skin viewer
        let skinViewer = new skinview3d.SkinViewer({
            canvas: document.getElementById("skin_container"),
            width: 300,
            height: 400
        });

        // Fungsi untuk mendapatkan parameter dari URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Ambil URL skin dari parameter 'skinUrl'
        const skinUrl = getQueryParam('skinUrl');

        // Jika ada skinUrl, muat skin dari URL tersebut.
        // Jika tidak, muat skin default atau jangan muat apa-apa.
        if (skinUrl) {
            skinViewer.loadSkin(skinUrl);
        } else {
            // Opsional: Muat skin default jika tidak ada parameter yang diberikan
            // skinViewer.loadSkin("default_skin.png"); 
            console.log("Tidak ada URL skin yang diberikan.");
        }

        // Atur kontrol kamera, animasi, dll.
        let control = skinview3d.createOrbitControls(skinViewer);
        control.enableRotate = true;
        control.enableZoom = false;

        let walk = skinViewer.animations.add(skinview3d.WalkingAnimation);

    </script>
</body>
</html>
